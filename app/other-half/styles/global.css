@import './tokens.css';
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply border-border;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-surface text-neutral-900 font-['Inter'];
    font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Accessibility improvements */
  *:focus {
    @apply outline-none ring-2 ring-primary-500 ring-offset-2;
  }

  /* Ensure touch targets are at least 44x44 */
  button, 
  [role="button"], 
  input[type="button"], 
  input[type="submit"], 
  input[type="reset"], 
  a {
    min-height: 44px;
    min-width: 44px;
  }

  /* High contrast support */
  @media (prefers-contrast: high) {
    * {
      border-width: 2px;
    }
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
}

@layer components {
  /* Faith-based background elements */
  .faith-background {
    position: relative;
    overflow: hidden;
  }

  .faith-background::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
      radial-gradient(circle at 20% 30%, rgba(203, 129, 32, 0.03) 0%, transparent 50%),
      radial-gradient(circle at 80% 70%, rgba(59, 130, 246, 0.03) 0%, transparent 50%);
    pointer-events: none;
    z-index: -1;
  }

  /* Animated faith symbols */
  .faith-symbols {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    overflow: hidden;
    z-index: -1;
  }

  .faith-symbol {
    position: absolute;
    opacity: 0.05;
    font-size: 2rem;
    color: hsl(var(--sys-color-primary-500));
    user-select: none;
    pointer-events: none;
  }

  .faith-symbol.cross-1 {
    top: 15%;
    left: 10%;
    animation: float-gentle 8s ease-in-out infinite;
  }

  .faith-symbol.cross-2 {
    top: 60%;
    right: 15%;
    animation: float-gentle 10s ease-in-out infinite reverse;
  }

  .faith-symbol.heart-1 {
    top: 40%;
    left: 75%;
    animation: pulse-subtle 6s ease-in-out infinite;
  }

  .faith-symbol.heart-2 {
    bottom: 20%;
    left: 25%;
    animation: pulse-subtle 7s ease-in-out infinite reverse;
  }

  .faith-symbol.dove-1 {
    top: 25%;
    right: 40%;
    animation: float-gentle 9s ease-in-out infinite;
  }

  /* Golden glow effect for special moments */
  .divine-glow {
    position: relative;
    overflow: hidden;
  }

  .divine-glow::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(
      circle,
      rgba(203, 129, 32, 0.1) 0%,
      rgba(203, 129, 32, 0.05) 30%,
      transparent 70%
    );
    animation: divine-pulse 6s ease-in-out infinite;
    pointer-events: none;
    z-index: -1;
  }

  /* Biblical verse styling */
  .bible-verse {
    @apply font-['Crimson_Text'] text-lg italic text-neutral-600;
    position: relative;
    padding: var(--sys-space-4);
    margin: var(--sys-space-6) 0;
  }

  .bible-verse::before {
    content: '"';
    @apply text-4xl text-primary-400;
    position: absolute;
    top: -0.5rem;
    left: 0;
    font-family: serif;
  }

  .bible-verse::after {
    content: '"';
    @apply text-4xl text-primary-400;
    position: absolute;
    bottom: -1rem;
    right: 0.5rem;
    font-family: serif;
  }

  /* Card components with faith-inspired styling */
  .faith-card {
    @apply bg-surface rounded-lg shadow-md border border-neutral-200;
    position: relative;
    overflow: hidden;
    transition: all var(--sys-animation-duration-normal) var(--sys-animation-easing);
  }

  .faith-card:hover {
    @apply shadow-lg;
    transform: translateY(-2px);
  }

  .faith-card.blessed {
    @apply shadow-lg;
    box-shadow: var(--sys-shadow-blessing);
  }

  /* Button variants with faith themes */
  .btn-primary {
    @apply bg-primary-500 text-white px-6 py-3 rounded-lg font-medium;
    transition: all var(--sys-animation-duration-normal) var(--sys-animation-easing);
  }

  .btn-primary:hover {
    @apply bg-primary-600;
    transform: translateY(-1px);
    box-shadow: var(--sys-shadow-md);
  }

  .btn-primary:active {
    transform: translateY(0);
  }

  .btn-secondary {
    @apply bg-secondary-100 text-secondary-800 border border-secondary-300 px-6 py-3 rounded-lg font-medium;
    transition: all var(--sys-animation-duration-normal) var(--sys-animation-easing);
  }

  .btn-secondary:hover {
    @apply bg-secondary-200 border-secondary-400;
  }

  /* Form styling with accessibility focus */
  .form-field {
    @apply relative mb-4;
  }

  .form-label {
    @apply block text-sm font-medium text-neutral-700 mb-2;
  }

  .form-input {
    @apply w-full px-4 py-3 border border-neutral-300 rounded-lg;
    @apply focus:ring-2 focus:ring-primary-500 focus:border-primary-500;
    min-height: var(--sys-form-field-height);
    transition: all var(--sys-animation-duration-fast) var(--sys-animation-easing);
  }

  .form-input:invalid {
    @apply border-error-500;
  }

  .form-error {
    @apply text-error-600 text-sm mt-1;
  }

  /* Sidebar styling */
  .sidebar {
    width: var(--sys-sidebar-width);
    @apply bg-surface border-r border-neutral-200;
    transition: all var(--sys-animation-duration-normal) var(--sys-animation-easing);
  }

  .sidebar.collapsed {
    width: var(--sys-sidebar-width-collapsed);
  }

  /* Navigation items */
  .nav-item {
    @apply flex items-center px-4 py-3 text-neutral-700 hover:bg-neutral-100 rounded-lg mx-2 my-1;
    transition: all var(--sys-animation-duration-fast) var(--sys-animation-easing);
    min-height: 44px;
  }

  .nav-item.active {
    @apply bg-primary-100 text-primary-800 font-medium;
  }

  .nav-item:hover {
    @apply text-neutral-900;
    transform: translateX(2px);
  }

  /* Mobile optimizations */
  @media (max-width: 768px) {
    .faith-symbol {
      font-size: 1.5rem;
    }

    .bible-verse {
      @apply text-base px-3;
    }

    .btn-primary,
    .btn-secondary {
      @apply w-full py-4 text-center;
    }
  }

  /* Loading states */
  .loading-shimmer {
    background: linear-gradient(
      90deg,
      rgba(203, 129, 32, 0.1) 0%,
      rgba(203, 129, 32, 0.3) 50%,
      rgba(203, 129, 32, 0.1) 100%
    );
    background-size: 200% 100%;
    animation: shimmer 2s infinite;
  }

  /* Celebration effects */
  .celebration-burst {
    position: relative;
    overflow: hidden;
  }

  .celebration-burst::after {
    content: 'âœ¨';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 2rem;
    animation: burst-celebration var(--sys-animation-duration-slow) ease-out;
    pointer-events: none;
  }
}

/* Animations */
@keyframes float-gentle {
  0%, 100% {
    transform: translateY(0px) rotate(0deg);
  }
  50% {
    transform: translateY(-10px) rotate(5deg);
  }
}

@keyframes pulse-subtle {
  0%, 100% {
    opacity: 0.05;
    transform: scale(1);
  }
  50% {
    opacity: 0.1;
    transform: scale(1.05);
  }
}

@keyframes divine-pulse {
  0%, 100% {
    opacity: 0.1;
    transform: scale(1);
  }
  50% {
    opacity: 0.2;
    transform: scale(1.1);
  }
}

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

@keyframes burst-celebration {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.5);
  }
  50% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1.2);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(1.5);
  }
}

/* Gold glow animation for random elements */
@keyframes gold-glow {
  0%, 100% {
    filter: drop-shadow(0 0 0 rgba(203, 129, 32, 0));
  }
  50% {
    filter: drop-shadow(0 0 8px rgba(203, 129, 32, 0.6));
  }
}

.random-glow {
  animation: gold-glow 3s ease-in-out;
}

/* Utility classes for themes */
.theme-neo-brutalism .faith-card {
  @apply rounded-none shadow-none;
  border: 3px solid hsl(var(--sys-color-neutral-900));
  box-shadow: 8px 8px 0 hsl(var(--sys-color-primary-500));
}

.theme-claymorphism .faith-card {
  @apply rounded-3xl;
  background: linear-gradient(145deg, #f0f0f0, #cacaca);
  box-shadow: 
    20px 20px 60px #bebebe,
    -20px -20px 60px #ffffff;
}

.theme-glassmorphism .faith-card {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

/* Print styles */
@media print {
  .faith-symbols,
  .divine-glow::after,
  .celebration-burst::after {
    display: none;
  }
  
  .faith-card {
    @apply shadow-none border-2 border-neutral-400;
  }
}
