# Environment Configuration Example
# Copy this file to .env.local and configure the values

# =============================================================================
# SAFE MODE CONFIGURATION
# =============================================================================
# Set to "false" to enable real integrations (requires all secrets below)
# Set to "true" to use mock services (default for development)
SAFE_MODE=true

# =============================================================================
# BASIC CONFIGURATION
# =============================================================================
NODE_ENV=development
PORT=8080
FRONTEND_URL=http://localhost:8080

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Required in both SAFE_MODE=true and SAFE_MODE=false
# In SAFE_MODE, a mock database connection is used if not provided
DATABASE_URL=postgresql://user:password@localhost:5432/otherhalf_dev

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================
# Required for JWT token generation
# In SAFE_MODE, an ephemeral secret is generated if not provided
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# Optional - used for advanced encryption features
ENCRYPTION_KEY=your-encryption-key-32-chars-long
SESSION_SECRET=your-session-secret-key

# =============================================================================
# STRIPE PAYMENT PROCESSING
# =============================================================================
# Required when SAFE_MODE=false
# In SAFE_MODE, mock payment processing is used
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Stripe Price IDs for subscription tiers
STRIPE_PLUS_MONTHLY_PRICE_ID=price_plus_monthly
STRIPE_PLUS_YEARLY_PRICE_ID=price_plus_yearly
STRIPE_PRO_MONTHLY_PRICE_ID=price_pro_monthly
STRIPE_PRO_YEARLY_PRICE_ID=price_pro_yearly
STRIPE_PREMIUM_MONTHLY_PRICE_ID=price_premium_monthly
STRIPE_PREMIUM_YEARLY_PRICE_ID=price_premium_yearly

# =============================================================================
# EMAIL SERVICE (SENDGRID)
# =============================================================================
# Required when SAFE_MODE=false
# In SAFE_MODE, emails are saved to .mailbox/ directory
SENDGRID_API_KEY=SG.your_sendgrid_api_key
FROM_EMAIL=noreply@yourdomain.com
FROM_NAME=Your App Name

# =============================================================================
# EXTERNAL APIS
# =============================================================================
# Required when SAFE_MODE=false for full functionality
# In SAFE_MODE, these features return mock data

# Google APIs for location services
GOOGLE_PLACES_API_KEY=your_google_places_api_key
GOOGLE_GEOCODING_API_KEY=your_google_geocoding_api_key

# reCAPTCHA for spam protection
RECAPTCHA_SITE_KEY=your_recaptcha_site_key
RECAPTCHA_SECRET_KEY=your_recaptcha_secret_key

# =============================================================================
# FILE STORAGE (AWS S3 or compatible)
# =============================================================================
# Required when SAFE_MODE=false
# In SAFE_MODE, files are stored in .storage/ directory
STORAGE_BUCKET_NAME=your-storage-bucket
STORAGE_BUCKET_REGION=us-east-1
STORAGE_ACCESS_KEY=your_aws_access_key
STORAGE_SECRET_KEY=your_aws_secret_key

# =============================================================================
# MONITORING & ANALYTICS
# =============================================================================
# Optional - used for error tracking and analytics
# In SAFE_MODE, these are logged locally
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project
ANALYTICS_API_KEY=your_analytics_api_key
PUSH_NOTIFICATION_SERVER_KEY=your_firebase_server_key

# =============================================================================
# CLIENT-SIDE ENVIRONMENT VARIABLES (Vite)
# =============================================================================
# These are exposed to the browser, so only use public keys
# Prefix with VITE_ to expose to client-side code

# Safe mode setting for client
VITE_SAFE_MODE=true

# Builder.io integration (public key is safe to expose)
VITE_PUBLIC_BUILDER_KEY=your_builder_io_public_key

# Stripe publishable key (safe to expose)
VITE_STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key

# Client-side configuration
VITE_FRONTEND_URL=http://localhost:8080
VITE_RECAPTCHA_SITE_KEY=your_recaptcha_site_key
VITE_SENTRY_DSN=https://your-sentry-dsn@sentry.io/project
VITE_ANALYTICS_API_KEY=your_analytics_public_key

# =============================================================================
# DEVELOPMENT & CI/CD
# =============================================================================
# Optional development settings
LOG_LEVEL=info
CI=false

# Ping message for testing API connectivity
PING_MESSAGE=pong

# =============================================================================
# SETUP INSTRUCTIONS
# =============================================================================
# 1. Copy this file to .env.local
# 2. Start with SAFE_MODE=true for immediate development
# 3. All features will work with mock services
# 4. When ready for production, set SAFE_MODE=false and configure real services
# 5. Use DevServerControl tool in Builder.io to set sensitive variables
# 6. Never commit real secrets to version control

# =============================================================================
# SAFE_MODE BEHAVIOR
# =============================================================================
# When SAFE_MODE=true:
# - Payments: Mock checkout flows that simulate success
# - Email: Messages saved to .mailbox/ directory as .eml files
# - Storage: Files saved to .storage/ directory
# - Analytics: Events logged to .analytics/ directory
# - Push Notifications: Saved to .notifications/ directory
# - External APIs: Return mock/stub responses
# - All UI flows work end-to-end for testing

# When SAFE_MODE=false:
# - All services connect to real external providers
# - Real charges, emails, and data processing occur
# - Requires all relevant API keys to be configured
# - Production-ready behavior
